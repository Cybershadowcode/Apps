<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PyScript Terminal with Lessons</title>
    <!-- Load PyScript -->
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .terminal-container, .lesson-container {
            margin-top: 20px;
        }
        .terminal {
            background-color: #000;
            color: #00ff00;
            padding: 10px;
            height: 300px;
            overflow-y: scroll;
        }
        input[type="text"] {
            width: 90%;
            margin-top: 5px;
        }
        button {
            padding: 10px;
            margin-top: 5px;
            cursor: pointer;
        }
        .lesson-item {
            padding: 10px;
            border: 1px solid #ccc;
            margin-bottom: 10px;
        }
        .lesson-content {
            margin-top: 10px;
        }
    </style>
</head>
<body>

    <h1>Python Lessons with PyScript Terminal</h1>
    <p>Select a lesson below to view its content and try it in the terminal.</p>

    <!-- Lesson list -->
    <div class="lesson-container" id="lesson-container">
        <h2>Lessons:</h2>
        <div id="lessons"></div>
    </div>

    <!-- Output area for selected lesson content -->
    <div class="lesson-content" id="lesson-content">
        <h3>Lesson Content</h3>
        <p id="lesson-description"></p>
        <py-script id="python-script"></py-script>
    </div>

    <!-- PyScript terminal -->
    <div class="terminal-container">
        <h2>PyScript Terminal</h2>
        <div class="terminal" id="terminal-output"></div>
        <input type="text" id="terminal-input" placeholder="Type Python commands here..." />
        <button id="run-command">Run Command</button>
    </div>

    <!-- JavaScript to dynamically load lessons and handle terminal input -->
    <script type="text/python">
        from js import document

        lessons = [
            {"title": "Lesson 1: Hello World", "description": "Learn how to print 'Hello World!' in Python.", "code": "print('Hello, World!')"},
            {"title": "Lesson 2: Variables", "description": "Learn how to define and use variables.", "code": "x = 5\nprint(f'Value of x is: {x}')"},
            {"title": "Lesson 3: Data Types", "description": "Explore Python's basic data types: int, float, str.", "code": "a = 5\nb = 3.5\nc = 'Hello'\nprint(type(a), type(b), type(c))"},
            {"title": "Lesson 4: Conditional Statements", "description": "Learn about if-else statements in Python.", "code": "x = 10\nif x > 5:\n    print('x is greater than 5')\nelse:\n    print('x is less than or equal to 5')"},
            {"title": "Lesson 5: Loops", "description": "Learn about for and while loops.", "code": "for i in range(5):\n    print(f'Loop {i}')"},
            {"title": "Lesson 6: Functions", "description": "Learn how to define and call functions.", "code": "def greet(name):\n    print(f'Hello, {name}!')\ngreet('Alice')"},
            {"title": "Lesson 7: Lists", "description": "Learn how to create and manipulate lists.", "code": "my_list = [1, 2, 3, 4]\nmy_list.append(5)\nprint(my_list)"},
            {"title": "Lesson 8: Dictionaries", "description": "Learn how to use dictionaries.", "code": "my_dict = {'name': 'Alice', 'age': 25}\nprint(my_dict['name'])"},
            {"title": "Lesson 9: Tuples", "description": "Learn about tuples and how they differ from lists.", "code": "my_tuple = (1, 2, 3)\nprint(my_tuple)"},
            {"title": "Lesson 10: Sets", "description": "Learn about sets and how to use them.", "code": "my_set = {1, 2, 3}\nmy_set.add(4)\nprint(my_set)"}
            # Add more lessons as needed
        ]

        # Load lessons into HTML
        lesson_list = document.getElementById('lessons')
        for index, lesson in enumerate(lessons):
            lesson_item = document.createElement('div')
            lesson_item.className = 'lesson-item'
            lesson_item.innerHTML = f"<strong>{lesson['title']}</strong> <button id='lesson{index}'>View</button>"
            lesson_list.appendChild(lesson_item)

            # Function to handle lesson button clicks
            def display_lesson(event, lesson=lesson):
                document.getElementById('lesson-description').innerHTML = lesson['description']
                document.getElementById('python-script').innerHTML = lesson['code']

            # Attach click event
            document.getElementById(f'lesson{index}').addEventListener('click', display_lesson)

        # Terminal interaction
        terminal_output = document.getElementById('terminal-output')
        terminal_input = document.getElementById('terminal-input')

        # Function to handle terminal commands
        def run_terminal_command(event):
            command = terminal_input.value
            terminal_output.innerHTML += f"<br>> {command}<br>"
            exec(command)

        # Attach terminal command handler
        document.getElementById('run-command').addEventListener('click', run_terminal_command)
    </script>

</body>
</html>
